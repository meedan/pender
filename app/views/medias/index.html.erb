<% 
  content_for :title do
    @data['title']
  end
%>

<script type="text/javascript">
  var toggleDetails = function() {
    var details = document.getElementById('pender-data');
    if (details.style.display === 'none') {
      details.style.display = 'block';
    }
    else {
      details.style.display = 'none';
    }
  }
</script>

<div class="pender-container pender-provider-<%= @data['provider'] %>">
  <h2 class="pender-top">
    <img src="<%= @data['favicon'] %>" alt="favicon" class="pender-favicon" /> 
    <span class="pender-provider"><%= @data['provider'] %></span>
  </h2>

  <% unless @data['picture'].blank? %>
    <img src="<%= @data['picture'] %>" alt="" class="pender-picture" id="pender-picture" />
    <script type="text/javascript">
      var picture = document.getElementById('pender-picture');
      var connector = /\?/.test(picture.src) ? '&' : '?';
      var pictureUrl = picture.src + connector + 'penderVersion=' + new Date().getTime();
      picture.src = pictureUrl;
      picture.onclick = function() { window.open(pictureUrl); };
    </script>
  <% end %>

  <div class="pender-info" style="<%= 'padding-left: 0;' if @data['picture'].blank? %>">
    <h1 class="pender-title"><%= @data['title'] if !@data['title'].blank? && @data['title'] != @data['description'] %></h2>
    <p class="pender-description">
      <%= @data['description'] %>
      <br /><br />
      <a class="pender-url" href="<%= @data['url'] %>" target="_blank" rel="noopener noreferrer"><%= @data['url'] %></a>
    </p>
  </div>
</div>
